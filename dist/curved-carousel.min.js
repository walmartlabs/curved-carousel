!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.CurvedCarousel=e(require("react")):t.CurvedCarousel=e(t.React)}(this,function(t){return function(t){function e(i){if(r[i])return r[i].exports;var o=r[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";t.exports={CurvedCarousel:r(1)}},function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},a=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),p=function(t,e,r){for(var i=!0;i;){var o=t,n=e,s=r;i=!1,null===o&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,n);if(void 0!==c){if("value"in c)return c.value;var a=c.get;if(void 0===a)return;return a.call(s)}var p=Object.getPrototypeOf(o);if(null===p)return;t=p,e=n,r=s,i=!0,c=p=void 0}},h=r(2),u=i(h),l=r(3),d=i(l),f=function(t){function e(t){n(this,e),p(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={dragging:!1,left:this.props.children.length*-1*(this.props.childWidth+this.props.spacing),top:0,velocity:0,accel:0,containerWidth:0},this.touchObject={},this.clickSafe=!0,this._getMouseEvents=this._getMouseEvents.bind(this),this._rafCb=this._rafCb.bind(this),this._setPosition=this._setPosition.bind(this)}return s(e,t),a(e,[{key:"componentDidMount",value:function(){this._startRaf(),this._setPosition(),window.addEventListener("load",this._setPosition),window.addEventListener("resize",this._setPosition)}},{key:"render",value:function(){var t=this,e=this.props,r=(e.childWidth,e.curve,e.spacing,e.rotation,e.friction,o(e,["childWidth","curve","spacing","rotation","friction"]));return u.default.createElement("div",c({className:"infinite-scroll"},this._getMouseEvents(),{ref:function(e){return t.container=e}},r),u.default.createElement("div",{style:{position:"relative",height:"100%",width:"100%",overflow:"hidden"}},this._childrenWithPositions()))}},{key:"_setPosition",value:function(){this.setState({containerWidth:this.container.offsetWidth})}},{key:"_onSelect",value:function(t){Math.abs(this.state.velocity)<.5&&this.props.onSelect&&this.props.onSelect.call(null,this.currentChildren[t].props.originalIndex)}},{key:"_childrenWithPositions",value:function(){var t=this,e=Array.prototype.slice.call(this.props.children,0),r=[];return Array.prototype.slice.call(this.props.children,0,this.props.children.length).reverse().forEach(function(t,r){e.unshift(u.default.cloneElement(t,{key:"clone"+(e.length-r)}))}),Array.prototype.slice.call(this.props.children,0,this.props.children.length).forEach(function(t,r){e.push(u.default.cloneElement(t,{key:"clone"+r}))}),e.forEach(function(e,i){var o=t.state.left+i*(t.props.childWidth+t.props.spacing),n=(360/t.state.containerWidth*(t.state.containerWidth/2),t.state.containerWidth,o*Math.cos(1)),s=n/Math.PI*(t.props.curve/100),c=Math.abs(n)*(t.props.curve/100)/Math.SQRT1_2,a=o/(t.props.childWidth+t.props.spacing);c=c*Math.abs(a)*(Math.LN10/10),t.props.rotation===!1&&(s=0);var p={position:"absolute",left:o+t.state.containerWidth/2-t.props.childWidth/2,transform:"rotate("+s+"deg)",transformOrigin:"bottom center",top:c,width:t.props.childWidth};r.push(u.default.cloneElement(e,{style:p,key:i,onClick:t._onSelect.bind(t,i)}))}),this.currentChildren=r,r}},{key:"_getMouseEvents",value:function(){var t=this;return this.props.dragging===!1?null:{onMouseDown:function(e){t.touchObject={startX:e.pageX,startY:e.pageY,prevX:e.pageX,prevY:e.pageY,endX:e.pageX,endY:e.pageY,previousTime:new Date,currentTime:new Date},t.setState({dragging:!0,velocity:0})},onMouseMove:function(e){if(t.state.dragging&&t.touchObject){var r=t._swipeDirection(t.touchObject.startX,e.clientX,t.touchObject.startY,e.clientY);0!==r&&e.preventDefault();var i=t.props.vertical?Math.round(Math.sqrt(Math.pow(e.clientY-t.touchObject.startY,2))):Math.round(Math.sqrt(Math.pow(e.clientX-t.touchObject.startX,2)));t.touchObject={startX:t.touchObject.startX,startY:t.touchObject.startY,previousTime:t.touchObject.currentTime,currentTime:new Date,prevX:t.touchObject.endX,prevY:t.touchObject.endY,endX:e.pageX,endY:e.pageY,length:i,direction:r};var o=t.state.left+(e.clientX-t.touchObject.prevX);o<t.props.children.length*-2*(t.props.childWidth+t.props.spacing)&&(o=t.props.children.length*-1*(t.props.childWidth+t.props.spacing)),o>t.props.children.length*-1*(t.props.childWidth+t.props.spacing)&&(o=t.props.children.length*-2*(t.props.childWidth+t.props.spacing)),t.setState({left:o})}},onMouseUp:function(e){if(t.state.dragging&&t.touchObject){var r=t.touchObject.prevX-t.touchObject.endX!==0?(t.touchObject.prevX-t.touchObject.endX)/(t.touchObject.currentTime-t.touchObject.previousTime)*12:0;t.setState({dragging:!1,velocity:r},function(){t._handleSwipe(e)})}},onMouseLeave:function(e){if(t.state.dragging&&t.touchObject){var r=t.touchObject.prevX-t.touchObject.endX!==0?(t.touchObject.prevX-t.touchObject.endX)/(t.touchObject.currentTime-t.touchObject.previousTime)*17:0;t.setState({dragging:!1,velocity:r},function(){t._handleSwipe(e)})}}}}},{key:"_handleClick",value:function(t){this.clickSafe===!0&&(t.preventDefault(),t.stopPropagation(),t.nativeEvent.stopPropagation())}},{key:"_handleSwipe",value:function(){this.touchObject=null,this._startRaf()}},{key:"_swipeDirection",value:function(t,e,r,i){var o,n,s,c;return o=t-e,n=r-i,s=Math.atan2(n,o),c=Math.round(180*s/Math.PI),c<0&&(c=360-Math.abs(c)),c<=45&&c>=0?1:c<=360&&c>=315?1:c>=135&&c<=225?-1:this.props.vertical===!0?c>=35&&c<=135?1:-1:0}},{key:"_rafCb",value:function(){if(!this.state.dragging){var t=this.state.velocity.toFixed(2)*this.props.friction;if(!(Math.abs(t)<.1)){var e=this.state.left-t;e<this.props.children.length*-2*(this.props.childWidth+this.props.spacing)&&(e=this.props.children.length*-1*(this.props.childWidth+this.props.spacing)),e>this.props.children.length*-1*(this.props.childWidth+this.props.spacing)&&(e=this.props.children.length*-2*(this.props.childWidth+this.props.spacing)),this.setState({velocity:t,left:e}),requestAnimationFrame(this._rafCb)}}}},{key:"_startRaf",value:function(){requestAnimationFrame(this._rafCb)}}]),e}(u.default.Component);f.displayName="CurvedCarousel",f.propTypes={childWidth:d.default.number,curve:d.default.number,spacing:d.default.number,rotation:d.default.bool,friction:d.default.number},f.defaultProps={childWidth:180,curve:50,spacing:40,rotation:!0,friction:.95},e.default=f,t.exports=e.default},function(e,r){e.exports=t},function(t,e,r){t.exports=r(4)()},function(t,e,r){"use strict";function i(){}var o=r(5);t.exports=function(){function t(t,e,r,i,n,s){if(s!==o){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function e(){return t}t.isRequired=t;var r={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return r.checkPropTypes=i,r.PropTypes=r,r}},function(t,e){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=r}])});
//# sourceMappingURL=curved-carousel.min.js.map